<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HNI Battle Online</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="game-wrapper">

    <!-- TELA DE SELE√á√ÉO DE CEN√ÅRIO -->
    <div id="scenario-screen" class="screen active">
        <h1 id="scenario-title">Selecione o Cen√°rio</h1>
        <div id="scenario-list-container"></div>
    </div>

    <!-- TELA DE MODO DE JOGO (NOVA) -->
    <div id="game-mode-screen" class="screen">
        <button id="game-mode-back-btn" class="back-btn" title="Voltar para Cen√°rios">‚Üê</button>
        <h1 id="game-mode-title">Selecione o Modo de Jogo</h1>
        <div class="mode-selection-container">
            <button id="mode-pvc-btn" class="mode-btn">Player vs. NPC</button>
            <button id="mode-pvp-btn" class="mode-btn">Player vs. Player</button>
        </div>
    </div>

    <!-- TELA DE SELE√á√ÉO DE PERSONAGENS -->
    <div id="selection-screen" class="screen">
        <button id="char-select-back-btn" class="back-btn" title="Voltar">‚Üê</button>
        <h1 id="selection-title">Selecione seu Lutador</h1>
        <div id="character-list-container"></div>
        <button id="confirm-selection-btn">Confirmar</button>
    </div>

    <!-- TELA DE LOBBY CL√ÅSSICO (P1 vs P2) -->
    <div id="lobby-screen" class="screen">
        <button id="lobby-back-btn" class="back-btn" title="Voltar para Golpes">‚Üê</button>
        <h1>Hajime no Ippo: Batalha Online</h1>
        <div id="lobby-content">
            <p>Aguardando conex√£o...</p>
        </div>
        <div id="share-container" class="hidden">
            <p>Voc√™ √© o Jogador 1. Envie este link para seu oponente:</p>
            <div id="share-link-p2" class="share-link" title="Clique para copiar">Carregando...</div>
            <br>
            <p>Ou envie este link para espectadores:</p>
            <div id="share-link-spectator" class="share-link" title="Clique para copiar">Carregando...</div>
        </div>
    </div>
    
    <!-- TELA DE LOBBY DE ARENA (NOVA) -->
    <div id="arena-lobby-screen" class="screen">
        <h1>Modo Arena - Aguardando Jogadores</h1>
        <div id="arena-lobby-content">
            <div class="arena-player-status" id="arena-p1-status">
                <h2>Jogador 1</h2>
                <p>Status: <span class="status-waiting">Aguardando Conex√£o...</span></p>
                <p class="char-choice hidden">Personagem: <span class="char-name"></span></p>
            </div>
            <div class="arena-player-status" id="arena-p2-status">
                <h2>Jogador 2</h2>
                <p>Status: <span class="status-waiting">Aguardando Conex√£o...</span></p>
                <p class="char-choice hidden">Personagem: <span class="char-name"></span></p>
            </div>
        </div>
        <div id="arena-share-container">
            <p>Envie os links abaixo para os jogadores:</p>
            <div><strong>Link Jogador 1:</strong> <span id="arena-link-p1" class="share-link">Gerando...</span></div>
            <div><strong>Link Jogador 2:</strong> <span id="arena-link-p2" class="share-link">Gerando...</span></div>
            <div><strong>Link Espectador:</strong> <span id="arena-link-spectator" class="share-link">Gerando...</span></div>
        </div>
        <button id="start-arena-fight-btn" disabled>Aguardando ambos os jogadores...</button>
    </div>


    <!-- TELA DE LUTA -->
    <div id="fight-screen" class="screen">
        <img src="images/Nathan.png" alt="Jogador 1" class="fighter-img" id="player1-fight-img">
        <img src="images/Ivan Braskovich.png" alt="Jogador 2" id="player2-fight-img" class="fighter-img">

        <button id="copy-spectator-link-ingame" class="copy-link-button hidden" title="Copiar link de espectador">üîó</button>
        <button id="exit-game-btn" class="back-btn" title="Voltar ao Menu Principal">‚åÇ</button>

        <div id="fight-ui-wrapper">
            <div class="fight-ui-container">
                <!-- √ÅREA JOGADOR 1 -->
                <div class="fighter-info" id="player1-area">
                    <h2 id="player1-fight-name">Jogador 1</h2>
                    <div class="stats-bar"><span>HP: </span><div class="hp-bar-container"><div id="player1-hp-bar" class="hp-bar"></div></div><span id="player1-hp-text">10 / 10</span></div>
                    <div class="pa-display"><span>PA:</span><div class="pa-dots-container" id="player1-pa-dots"></div></div>
                    <div class="defense-display"><img src="images/def.png" alt="Defesa"><span class="defense-text" id="player1-def-text">0</span></div>
                    <p>Acertos: <span id="player1-hits">0</span></p>
                    <p>Quedas: <span id="player1-knockdowns">0</span></p>
                    <p>Dano Recebido: <span id="player1-damage-taken">0</span></p>
                </div>
                <!-- LOG DE LUTA -->
                <div id="fight-log-container">
                    <h2 id="round-info">ROUND 1</h2>
                    <div id="fight-log"></div>
                </div>
                <!-- √ÅREA JOGADOR 2 -->
                <div class="fighter-info" id="player2-area">
                    <h2 id="player2-fight-name">Jogador 2</h2>
                    <div class="stats-bar"><span>HP: </span><div class="hp-bar-container"><div id="player2-hp-bar" class="hp-bar"></div></div><span id="player2-hp-text">15 / 15</span></div>
                    <div class="pa-display"><span>PA:</span><div class="pa-dots-container" id="player2-pa-dots"></div></div>
                    <div class="defense-display"><img src="images/def.png" alt="Defesa"><span class="defense-text" id="player2-def-text">0</span></div>
                    <p>Acertos: <span id="player2-hits">0</span></p>
                    <p>Quedas: <span id="player2-knockdowns">0</span></p>
                    <p>Dano Recebido: <span id="player2-damage-taken">0</span></p>
                </div>
            </div>
            <!-- BOT√ïES DE A√á√ÉO -->
            <div id="action-buttons-wrapper">
                <!-- BOT√ïES DO JOGADOR 1 (VERMELHOS) -->
                <div id="p1-controls" class="move-buttons hidden">
                    <button class="action-btn p1-btn" data-move="Jab">Jab (1 PA)</button>
                    <button class="action-btn p1-btn" data-move="Direto">Direto (2 PA)</button>
                    <button class="action-btn p1-btn" data-move="Upper">Upper (3 PA)</button>
                    <button class="action-btn p1-btn" data-move="Liver Blow">Liver Blow (2 PA)</button>
                    <div id="p1-special-moves" class="special-moves-container"></div>
                    <button id="p1-end-turn-btn" class="end-turn-btn">ENCERRAR O TURNO</button>
                </div>
                <!-- BOT√ïES DO JOGADOR 2 (AZUIS) -->
                <div id="p2-controls" class="move-buttons hidden">
                    <button class="action-btn p2-btn" data-move="Jab">Jab (1 PA)</button>
                    <button class="action-btn p2-btn" data-move="Direto">Direto (2 PA)</button>
                    <button class="action-btn p2-btn" data-move="Upper">Upper (3 PA)</button>
                    <button class="action-btn p2-btn" data-move="Liver Blow">Liver Blow (2 PA)</button>
                    <div id="p2-special-moves" class="special-moves-container"></div>
                    <button id="p2-end-turn-btn" class="end-turn-btn">ENCERRAR O TURNO</button>
                </div>
                <div id="utility-buttons">
                    <button id="forfeit-btn">Jogar a Toalha</button>
                </div>
            </div>
        </div>

        <!-- BOT√ïES DE ROLAGEM -->
        <button id="player1-roll-btn" class="roll-dice-button hidden"></button>
        <button id="player2-roll-btn" class="roll-dice-button hidden"></button>

        <!-- OVERLAYS -->
        <div id="dice-overlay" class="hidden"></div>
        <div id="player1-dice-result" class="dice-result hidden"></div>
        <div id="player2-dice-result" class="dice-result hidden"></div>
    </div>

    <!-- MODAL PADR√ÉO -->
    <div id="modal" class="hidden">
        <div id="modal-content">
            <h3 id="modal-title">T√≠tulo</h3>
            <div id="modal-text">Texto.</div>
            <button id="modal-button">OK</button>
        </div>
    </div>
    
    <!-- MODAL DE SELE√á√ÉO DE GOLPES ESPECIAIS -->
    <div id="special-moves-modal" class="hidden">
        <div id="special-moves-content">
             <button id="special-moves-back-btn" class="back-btn" title="Voltar para Personagens">‚Üê</button>
            <h3 id="special-moves-title">Selecione seus Golpes Especiais</h3>
            <div id="special-moves-list"></div>
            <button id="confirm-special-moves-btn">Confirmar Golpes</button>
        </div>
    </div>

    <div id="get-up-success-overlay" class="hidden">
        <div id="get-up-success-content"></div>
    </div>

</div>

<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
</body>
</html>