<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Medieval Battle RPG</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div id="game-wrapper">

    <button id="exit-game-btn" class="back-btn hidden" title="Voltar ao Menu Principal">⌂</button>
    
    <!-- TELA INICIAL DO LOBBY DO GM -->
    <div id="gm-initial-lobby" class="screen active">
        <!-- ... (conteúdo sem alterações) ... -->
    </div>
    
    <!-- Tela para o GM confirmar o grupo e definir stats -->
    <div id="gm-party-setup-screen" class="screen">
        <!-- ... (conteúdo sem alterações) ... -->
    </div>

    <!-- Tela para o GM selecionar os NPCs e definir stats -->
    <div id="gm-npc-setup-screen" class="screen">
        <!-- ... (conteúdo sem alterações) ... -->
    </div>

    <!-- TELA DE ESPERA DO JOGADOR/ESPECTADOR -->
    <div id="player-waiting-screen" class="screen">
        <!-- ... (conteúdo sem alterações) ... -->
    </div>
    
    <!-- TELA DE SELEÇÃO DE PERSONAGENS (Para jogadores) -->
    <div id="selection-screen" class="screen">
        <!-- ... (conteúdo sem alterações) ... -->
    </div>

    <!-- TELA DE LUTA -->
    <div id="fight-screen" class="screen">
        
        <div id="fight-scene-characters">
            <!-- Personagens serão inseridos aqui pelo client.js -->
        </div>

        <!-- MODIFICAÇÃO: Barra de ordem de turno -->
        <div id="turn-order-sidebar" class="hidden">
            <!-- Ordem de turno será inserida aqui -->
        </div>

        <!-- UI sobreposta ao cenário -->
        <div id="fight-log-container">
            <h2 id="round-info">ROUND 1</h2>
            <div id="fight-log"></div>
        </div>

        <!-- MODIFICAÇÃO: UI para rolar iniciativa -->
        <div id="initiative-ui" class="hidden">
            <button id="player-roll-initiative-btn" class="initiative-btn hidden">Rolar Iniciativa</button>
            <button id="gm-roll-initiative-btn" class="initiative-btn hidden">Rolar para Inimigos</button>
        </div>

        <div id="targeting-indicator" class="hidden">
            Selecione um alvo! (Clique direito ou ESC para cancelar)
        </div>

        <div id="action-buttons-wrapper">
            <!-- Botões de ação serão inseridos aqui pelo client.js -->
        </div>
    </div>

    <!-- MODAL PADRÃO -->
    <div id="modal" class="hidden">
        <!-- ... (conteúdo sem alterações) ... -->
    </div>
    
    <div id="coords-display" class="hidden">X: 0, Y: 0</div>

</div>

<script src="/socket.io/socket.io.js"></script>
<script src="client.js"></script>
</body>
</html>